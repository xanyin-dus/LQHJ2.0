# LQHJ2.0 - 灵棋幻境 `dev1.0.0` 分支
<div align="center">
    <img src="https://img.shields.io/badge/Qt6.8-blue.svg" alt="Qt Version">
    <img src="https://img.shields.io/badge/Language-C%2B%2B11%2B%2FQML-orange.svg" alt="Development Language">
    <img src="https://img.shields.io/badge/Build-CMake-green.svg" alt="Build Tool">
    <img src="https://img.shields.io/badge/Version%20Control-Git-red.svg" alt="Version Control">
    <img src="https://img.shields.io/badge/Status-Developing-yellow.svg" alt="Dev Status">
    <p>🎮 基于Qt QML+C++灵棋幻境<strong>1.0.0版本开发分支</strong>，已集成arch基准架构</p>
</div>

---

## 🎯 分支定位
本`dev1.0.0`分支是项目**1.0.0正式版的核心开发分支**，已完整同步`arch`分支的分层架构、目录规范与基础工程配置，是团队所有成员开发1.0.0版本功能的**统一基准分支**。
开发完成的功能经自测、审核通过后，合并至本分支；待1.0.0版本所有功能开发完毕、测试稳定后，由负责人统一合并至`main`分支发布正式版。

> ⚠️ **开发提示**
> 1. 本分支为**开发中分支**，代码迭代频繁、暂未经过全面测试，**禁止直接用于部署、发布和线上体验**；
> 2. 已内置arch分支的核心架构骨架，**禁止任何成员随意修改架构基础代码、目录结构和核心接口**，架构调整需团队讨论后由负责人统一修改；
> 3. 所有1.0.0版本的功能开发，均需基于本分支创建子功能分支，禁止直接在`dev1.0.0`主分支提交代码。

### ✨ 分支基础
基于`arch`分支同步而来，无需重复搭建，开箱即可开发1.0.0版本功能：
- 🧩 完整的**QML+C++分层架构**（表现层/逻辑层/资源层/测试层），UI与业务逻辑完全解耦；
- 📦 标准化的目录结构、CMake全局构建配置、qml.qrc资源注册基础；
- 🔧 核心模块骨架（游戏/剧情/数据/应用控制/工具）已搭建，含基础类与接口定义；
- 📋 统一的编码、命名、Git提交规范（与arch分支完全一致）；
- 📂 空的静态资源目录（res/），按类型分类，可直接放入1.0.0版本所需资源。

### 🎯 1.0.0版本开发范围
本分支聚焦**1.0.0基础正式版**开发，所有功能开发需围绕以下范围展开，避免超范围开发：
1. ♟️ 五子棋核心玩法：基础人机AI、落子校验、横竖斜胜负判断、悔棋基础逻辑；
2. 📖 第一章剧情：完整JSON剧情文本编写、剧情加载解析、剧情界面展示、单分支剧情流程；
3. 🎨 基础UI界面：主菜单、核心游戏界面、第一章剧情界面、简易提示弹窗，保证基础交互；
4. 📦 基础资源管理：实现图片/音频/剧情文本的统一加载，完成1.0.0版本资源的打包与注册；
5. 🧪 核心逻辑单元测试：覆盖棋盘管理、落子校验、胜负判断等基础功能。

## 🛠️ 技术栈
| 分类         | 技术选型&版本要求                                                                 |
|--------------|----------------------------------------------------------------------------------|
| 核心框架     | Qt 6.8：必须包含QML/Qt Quick/Qt Core/Qt Gui/Qt Test等模块|
| 开发语言     | QML、C++11+|
| 构建工具     | CMake 3.16+|
| 数据格式     | JSON（1.0.0剧情文本、基础配置数据）|
| 资源管理     | Qt资源系统（qrc），静态资源统一注册与访问                                        |
| 版本控制     | Git|
| 编译器       | Windows(MSVC2019+/MinGW)；敬请期待：Linux(GCC)、macOS(Clang)                                |

## 📁 项目结构
已同步`arch`分支的标准化分层目录结构，开发时需**遵循**，保证与架构基准一致，避免目录混乱：
```
LQHJ20/
├── CMakeLists.txt          # 全局CMake构建配置
├── qml.qrc                 # Qt资源注册基础文件（新增资源需在此注册）
├── res/                    # 静态资源根目录（图片/音频/剧情文本，按需新增）
├── qml/                    # QML表现层（views/业务界面 | components/通用组件）
├── src/                    # C++逻辑层（游戏/剧情/数据/应用/工具模块骨架已搭建）
└── tests/                  # 单元测试目录（需补充1.0.0核心逻辑测试用例）
```
> 📌 所有目录/文件的开发规范，**完全遵循`arch`分支的定义**，详见arch分支。

## 💻 快速开发起步
### 前置环境
1. 安装Qt 6.8（含QML、Qt Quick等核心模块）；
2. 安装CMake 3.16+并配置环境变量；
3. 安装对应平台的C++编译器。

### 克隆分支&切换开发
```bash
# 克隆仓库
git clone https://github.com/xanyin-dus/LQHJ2.0.git LQHJ20
cd LQHJ20

# 切换至1.0.0版本开发分支
git checkout dev1.0.0

# 拉取最新代码
git pull origin dev1.0.0
```

### 编译运行
1. 打开Qt Creator，导入项目根目录的`CMakeLists.txt`；
2. 自动加载配置，选择Qt 6.8与对应编译器，点击**配置项目**；
3. 构建（锤子图标）→ 运行（三角图标），即可启动开发环境。

> 📝 命令行编译方式与`arch`分支完全一致，详见arch分支。

## 🌿 分支开发核心规范
为保证1.0.0版本开发协同效率，**所有团队成员必须严格遵循以下规范**，避免代码冲突与版本混乱。

### 1. 子分支创建规范
所有功能开发/BUG修复，需基于`dev1.0.0`创建**个人子分支**，禁止直接在`dev1.0.0`主分支提交代码：
| 子分支类型 | 命名规范                  | 示例                                      |
|------------|---------------------------|-------------------------------------------|
| 功能分支   | `[开发人员]feature/1.0.0-模块-功能` | `[Alice]feature/1.0.0-game-ai`、`[Jean]feature/1.0.0-story-chapter1` |
| 修复分支   | `[开发人员]fix/1.0.0-模块-问题`     | `[Bob]fix/1.0.0-board-wincheck`、`[John]fix/1.0.0-qml-storyscroll` |

### 2. 子分支开发流程
1. 基于`dev1.0.0`创建子分支：`git checkout -b feature/1.0.0-模块-功能`；
2. 开发功能，遵循编码/命名规范，补充必要注释与测试用例；
3. 开发过程中**定期同步`dev1.0.0`最新代码**（避免冲突）：
   ```bash
   git checkout dev1.0.0 && git pull origin dev1.0.0 && git checkout 你的子分支 && git merge dev1.0.0
   ```
4. 功能开发完成→**自测通过**→向`dev1.0.0`分支发起**PR请求**；
5. 审核通过后，由负责人合并至`dev1.0.0`主分支，子分支可按需删除。

### 3. Git提交规范
沿用项目统一提交格式，便于追溯1.0.0版本代码变更：
```bash
# 提交格式：git commit -m "[开发人员][类型] 模块：简短描述"
git commit -m "[Alice][feat] game：实现1.0.0基础人机落子逻辑"
git commit -m "[John][fix] board：修复1.0.0横排胜负判断漏判问题"
git commit -m "[Bob][chore] qrc：添加1.0.0棋子图片与落子音效"
```
提交类型与定义（与arch分支一致）：`feat`(新增功能)、`fix`(修复BUG)、`refactor`(重构)、`style`(样式)、`docs`(文档)、`test`(测试)、`chore`(构建/资源)。

## 📋 开发指引
1. **架构遵循**：所有开发需严格遵循`arch`分支的分层设计与模块职责，不要跨模块调用私有成员，不要修改架构核心代码；
2. **资源管理**：1.0.0版本的所有静态资源，需放入`res/`对应子目录，命名遵循**单词小写**规范；
3. **代码自测**：功能开发完成后，需自行完成功能测试，确保无明显BUG后再发起PR；
4. **测试补充**：五子棋核心逻辑（棋盘、落子、胜负）开发完成后，需在`tests/`目录补充对应单元测试用例；
5. **文档同步**：若开发过程中对接口/逻辑做调整，需同步更新对应模块的开发文档，保证文档与代码一致。

## 📊 占位：1.0.0版本开发进度
| 开发模块       | 开发状态 | 负责人 | 预计完成时间 | 备注               |
|----------------|----------|--------|--------------|--------------------|
| 五子棋核心逻辑 | 🚧 开发中 | ——     | 2026-02-10   | 含双人/人机/胜负判断 |
| 第一章剧情系统 | 🚧 开发中 | ——     | 2026-02-20   | JSON文本+剧情界面  |
| 基础UI界面     | 🚧 开发中 | ——     | 2026-02-15   | 主菜单/游戏/剧情页 |
| 基础资源管理   | ✅ 已完成 | ——     | 2026-01-31   | 资源加载/注册基础  |
| 单元测试       | ⏳ 待开展 | ——     | 2026-02-25   | 覆盖核心游戏逻辑   |
> 📝 此部分由团队负责人**实时更新**，同步1.0.0版本开发进度。

## ❓ 常见开发问题
### Q：开发时需要修改arch架构的核心代码怎么办？
A：不要自行修改，需先在团队内发起讨论，达成一致后由选定的负责人修改`arch`分支，再同步至`dev1.0.0`分支。

### Q：子分支合并至dev1.0.0时出现冲突怎么办？
A：由子分支开发人员**自行解决冲突**，解决后重新发起PR，确保合并后的代码可正常编译运行。

### Q：dev1.0.0分支编译失败怎么处理？
A：1. 拉取最新代码`git pull origin dev1.0.0`；2. 清空构建目录重新配置CMake；3. 确认Qt版本与模块完整；4. 反馈至团队沟通群排查。

---

<div align="center">
    <p>📞 开发问题反馈：团队沟通群 / 项目Issue | 📋 开发规范参考：arch分支README | 📅 最后更新：2026-01-31</p>
</div>
